<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¨ æ ¡å›­åˆ›æ„å·¥åŠ - å§å”§ç”Ÿæˆå™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="/static/js/device-manager.js"></script>
    <script src="/static/js/navigation.js"></script>

    <!-- ğŸ“ æ ¡å›­é£æ ¼æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="/static/css/campus-style.css">
    <link rel="stylesheet" href="/static/css/campus-animations.css">
    <link rel="stylesheet" href="/static/css/campus-mobile.css">

    <style>
        /* ğŸ¨ æ ¡å›­é£æ ¼è¦†ç›–æ ·å¼ */
        .hero-section {
            background: var(--primary-gradient);
            position: relative;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            animation: floatBackground 6s ease-in-out infinite;
        }

        .magic-button {
            background: var(--success-gradient);
            font-size: 1.2rem;
            padding: 16px 32px;
            border-radius: 30px;
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .magic-button:hover {
            transform: translateY(-4px) scale(1.08);
            box-shadow: 0 15px 35px rgba(79, 172, 254, 0.4);
        }

        /* ğŸ¨ æ¡ˆä¾‹å¡ç‰‡æ ¡å›­é£æ ¼ */
        .case-card {
            background: white;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
            position: relative;
        }

        .case-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .case-card:hover::before {
            transform: scaleX(1);
        }

        .case-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--hover-shadow);
        }

        /* ğŸ·ï¸ æ ‡ç­¾æ ¡å›­é£æ ¼ */
        .filter-btn {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 20px;
            padding: 8px 20px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .filter-btn.active {
            background: var(--primary-gradient);
            border-color: transparent;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* ğŸ¯ æ“ä½œæŒ‰é’® */
        .action-btn {
            background: white;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            font-weight: 600;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .action-btn.primary {
            background: var(--campus-blue);
            color: white;
        }

        .action-btn.secondary {
            background: var(--youth-orange);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* ğŸ… å¾½ç« æ ·å¼ */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            color: white;
        }

        .badge-featured {
            background: var(--accent-gradient);
            box-shadow: 0 2px 8px rgba(240, 147, 251, 0.3);
        }

        .badge-hot {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%);
            animation: pulse 2s ease-in-out infinite;
        }

        /* ğŸ¨ ç»Ÿè®¡æ•°å­—æ ·å¼ */
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            .hero-section {
                min-height: 100vh;
                padding: 2rem 1rem;
            }

            .hero-section h1 {
                font-size: 3rem;
            }

            .hero-section h2 {
                font-size: 2rem;
            }

            .magic-button {
                font-size: 1.1rem;
                padding: 14px 28px;
                min-height: 44px;
            }

            .stat-number {
                font-size: 2rem;
            }
        }

        /* ğŸª å¯¼èˆªæ æ ·å¼ */
        .user-menu-dropdown {
            transition: all 0.2s ease-out;
            transform-origin: top right;
        }

        .menu-open {
            opacity: 1;
            transform: translateY(0) scale(1);
            visibility: visible;
        }

        .menu-closed {
            opacity: 0;
            transform: translateY(-10px) scale(0.95);
            visibility: hidden;
        }

        .user-menu-btn {
            transition: all 0.2s ease-out;
        }

        .user-menu-btn:hover {
            transform: translateY(-1px);
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- ğŸ¨ Hero Section - æ ¡å›­åˆ›æ„å·¥åŠ -->
        <section class="hero-section min-h-screen flex items-center justify-center relative overflow-hidden">
            <!-- è£…é¥°æ€§èƒŒæ™¯å…ƒç´  -->
            <div class="absolute top-10 left-10 text-6xl opacity-20 floating">ğŸ“</div>
            <div class="absolute top-20 right-20 text-4xl opacity-15 floating floating-delay-1">ğŸ“š</div>
            <div class="absolute bottom-20 left-20 text-5xl opacity-20 floating floating-delay-2">ğŸ¨</div>
            <div class="absolute bottom-10 right-10 text-4xl opacity-15 floating floating-delay-3">âœ¨</div>

            <div class="text-center text-white px-8 relative z-10">
                <div class="floating mb-8">
                    <div class="mb-4">
                        <span class="text-8xl bounce-in inline-block">ğŸ¨</span>
                    </div>
                    <h1 class="text-5xl md:text-6xl font-bold mb-2 fun-font">æ ¡å›­åˆ›æ„å·¥åŠ</h1>
                    <p class="text-xl md:text-2xl opacity-90 mb-4">è®©æ¯ä¸ªæƒ³æ³•éƒ½é—ªé—ªå‘å…‰ â­</p>
                    <p class="text-lg opacity-80 handwritten">ç®€å•æ‹–æ‹½ â†’ åˆ›æ„è®¾è®¡ â†’ ä¸“å±å§å”§</p>
                </div>

                <div class="mb-8">
                    <p class="text-lg opacity-80 mb-4">ğŸ“ ä¸“ä¸ºå­¦ç”Ÿå…šæ‰“é€ çš„åˆ›æ„å¹³å°</p>
                    <div class="flex flex-wrap justify-center gap-4 text-sm">
                        <span class="campus-tag">ğŸš€ æé€Ÿå‡ºå›¾</span>
                        <span class="campus-tag campus-tag-success">ğŸ¨ åˆ›æ„æ— é™</span>
                        <span class="campus-tag campus-tag-warning">ğŸ’° ä»·æ ¼ç¾ä¸½</span>
                        <span class="campus-tag campus-tag-hot">ğŸ”¥ è¶…äººæ°”</span>
                    </div>
                </div>

                <a href="/design"
                   class="magic-button campus-btn campus-btn-success inline-block ripple-effect">
                    âœ¨ å¼€å¯åˆ›æ„ä¹‹æ—…
                </a>

                <div class="mt-12 text-sm opacity-60">
                    <p class="handwritten">"é’æ˜¥ä¸æ•£åœºï¼Œåˆ›æ„ä¸æ‰“çƒŠ" ğŸª</p>
                </div>

                <!-- ğŸ“Š ç»Ÿè®¡æ•°æ®å±•ç¤º -->
                <div class="mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto mobile-stats">
                    <div class="text-center">
                        <div class="stat-number count-up" data-target="10000">0</div>
                        <div class="text-sm opacity-80 mobile-stat-label">åˆ›æ„ä½œå“</div>
                    </div>
                    <div class="text-center">
                        <div class="stat-number count-up" data-target="5000">0</div>
                        <div class="text-sm opacity-80 mobile-stat-label">æ´»è·ƒç”¨æˆ·</div>
                    </div>
                    <div class="text-center">
                        <div class="stat-number count-up" data-target="98">0</div>
                        <div class="text-sm opacity-80 mobile-stat-label">å¥½è¯„ç‡%</div>
                    </div>
                    <div class="text-center">
                        <div class="stat-number count-up" data-target="24">0</div>
                        <div class="text-sm opacity-80 mobile-stat-label">å°æ—¶å‡ºå›¾</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ğŸª ç»Ÿä¸€å¯¼èˆªæ  -->
        <nav class="navbar bg-white shadow-sm border-b border-gray-200">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between h-16">
                    <!-- Logoå’Œæ ‡é¢˜ -->
                    <div class="flex items-center space-x-4">
                        <a href="/" class="flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors">
                            <span class="text-2xl">ğŸ¨</span>
                            <span class="text-xl font-bold campus-blue">æ ¡å›­å·¥åŠ</span>
                        </a>
                    </div>

                    <!-- å¯¼èˆªèœå• -->
                    <div class="hidden md:flex items-center space-x-6">
                        <a href="/" class="nav-link text-gray-600 hover:text-blue-600 transition-colors">
                            é¦–é¡µ
                        </a>
                        <a href="/gallery" class="nav-link text-gray-600 hover:text-blue-600 transition-colors">
                            ä½œå“ç”»å»Š
                        </a>
                        <a href="/design" class="nav-link text-gray-600 hover:text-blue-600 transition-colors">
                            å¼€å§‹è®¾è®¡
                        </a>
                        <a href="/history" class="nav-link text-gray-600 hover:text-blue-600 transition-colors">
                            åˆ¶ä½œå†å²
                        </a>
                        <a href="/orders" class="nav-link text-gray-600 hover:text-blue-600 transition-colors">
                            æˆ‘çš„è®¢å•
                        </a>
                    </div>

                    <!-- ç”¨æˆ·èœå• -->
                    <div class="flex items-center space-x-2">
                        <div class="relative">
                            <button @click="toggleUserMenu"
                                class="user-menu-btn flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-blue-600 hover:bg-gray-100 transition-colors">
                                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                    <span class="text-lg">ğŸ‘¤</span>
                                </div>
                                <span class="hidden md:block text-sm font-medium">æˆ‘çš„è´¦æˆ·</span>
                                <svg class="w-4 h-4 transition-transform" :class="{ 'rotate-180': userMenuOpen }"
                                     fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>

                            <!-- ç”¨æˆ·èœå•ä¸‹æ‹‰ -->
                            <div v-show="userMenuOpen"
                                class="user-menu-dropdown absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50"
                                :class="{ 'menu-open': userMenuOpen, 'menu-closed': !userMenuOpen }">
                                <!-- ç”¨æˆ·ä¿¡æ¯ -->
                                <div class="px-4 py-3 border-b border-gray-100">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                            <span class="text-xl">ğŸ‘¨â€ğŸ“</span>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">æ ¡å›­ç”¨æˆ·</p>
                                            <p class="text-xs text-gray-500">åˆ›æ„æ— é™ï¼Œé’æ˜¥æ— æ‚”</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- å¿«é€Ÿæ“ä½œ -->
                                <div class="px-2 py-2">
                                    <a href="/" class="flex items-center px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">
                                        <span class="mr-3">ğŸ </span>
                                        é¦–é¡µ
                                    </a>
                                    <a href="/gallery" class="flex items-center px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">
                                        <span class="mr-3">ğŸ¨</span>
                                        ä½œå“ç”»å»Š
                                    </a>
                                    <a href="/design" class="flex items-center px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">
                                        <span class="mr-3">âœ¨</span>
                                        å¼€å§‹è®¾è®¡
                                    </a>
                                    <a href="/orders" class="flex items-center px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">
                                        <span class="mr-3">ğŸ“‹</span>
                                        æˆ‘çš„è®¢å•
                                    </a>
                                    <a href="/history" class="flex items-center px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">
                                        <span class="mr-3">ğŸ“</span>
                                        è®¾è®¡å†å²
                                    </a>
                                </div>

                                <!-- åˆ†éš”çº¿ -->
                                <div class="border-t border-gray-100 my-2"></div>

                                <!-- å¸®åŠ©å’Œå…³äº -->
                                <div class="px-2 py-2">
                                    <button @click="showHelp" class="flex items-center w-full px-2 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md">
                                        <span class="mr-3">â“</span>
                                        å¸®åŠ©ä¸­å¿ƒ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ğŸš€ å¿«é€Ÿåˆ¶ä½œå…¥å£ -->
        <section class="bg-white/70 py-14">
            <div class="container mx-auto px-4">
                <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between mb-8 gap-4">
                    <div>
                        <p class="pill w-max">ğŸ“Œ 30 ç§’ä¸Šæ‰‹</p>
                        <h2 class="text-3xl font-bold text-gray-800 mt-2">é€‰åœºæ™¯ â†’ ç›´æ¥å¼€åš</h2>
                    </div>
                    <div class="flex flex-wrap gap-2">
                        <span class="campus-tag campus-tag-muted">#åŠ¨æ¼«ç¤¾</span>
                        <span class="campus-tag campus-tag-muted">#è¯å‰§èŠ‚</span>
                        <span class="campus-tag campus-tag-muted">#æ‘Šä½å¿…å¤‡</span>
                        <span class="campus-tag campus-tag-muted">#é™å®šå‘¨è¾¹</span>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="campus-card p-5 space-y-3">
                        <div class="text-3xl">ğŸ¤³</div>
                        <h3 class="text-xl font-bold">è‡ªæ‹åšå¾½ç« </h3>
                        <p class="text-gray-600">æ‹ç«‹å¾—/è¯ä»¶ç…§éšæ‰‹åšï¼Œæ»¤é•œ+è´´çº¸ä¸€é”®å¥—ç”¨ã€‚</p>
                        <a href="/design" class="campus-btn campus-btn-success inline-flex items-center gap-2">é©¬ä¸Šåˆ¶ä½œ</a>
                    </div>
                    <div class="campus-card p-5 space-y-3">
                        <div class="text-3xl">ğŸ‘¥</div>
                        <h3 class="text-xl font-bold">ç¤¾å›¢æ‰¹é‡</h3>
                        <p class="text-gray-600">å¯¼å…¥ç¤¾å›¢ Logo ä¸æˆå‘˜æ˜µç§°ï¼Œç»Ÿä¸€é£æ ¼ï¼Œå¿«é€Ÿæäº¤ã€‚</p>
                        <a href="/design" class="campus-btn campus-btn-primary inline-flex items-center gap-2">æ‰¹é‡å¼€åš</a>
                    </div>
                    <div class="campus-card p-5 space-y-3">
                        <div class="text-3xl">ğŸª</div>
                        <h3 class="text-xl font-bold">å±•ä¼šå¿«å°</h3>
                        <p class="text-gray-600">å±•ä¼š/æ‘†æ‘Šä¸´æ—¶è¡¥è´§ï¼Œæé€Ÿåˆ¶ä½œ + çŠ¶æ€è·Ÿè¸ªã€‚</p>
                        <a href="/design" class="campus-btn campus-btn-accent inline-flex items-center gap-2">æé€Ÿä¸‹å•</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- ğŸ¯ ç²¾é€‰æ¡ˆä¾‹å±•ç¤ºåŒºåŸŸ -->
        <section class="featured-cases-section bg-gradient-to-br from-gray-50 to-gray-100 py-16">
            <div class="container mx-auto px-4">
                <!-- æ ‡é¢˜åŒºåŸŸ -->
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">
                        <span class="gradient-text">âœ¨ ç²¾é€‰æ¡ˆä¾‹</span>
                    </h2>
                    <p class="text-lg text-gray-600 mb-8">çœ‹çœ‹å…¶ä»–æ ¡å›­åˆ›ä½œè€…çš„ç²¾å½©å§å”§ï¼Œè·å–çµæ„Ÿ ğŸ’¡</p>

                    <!-- ç§»åŠ¨ç«¯æ¨ªå‘æ»šåŠ¨ç­›é€‰ -->
                    <div class="mobile-filter-tags md:hidden">
                        <button v-for="filter in caseFilters" :key="filter.value"
                            :class="['mobile-filter-tag campus-btn', { active: currentCaseFilter === filter.value }]"
                            @click="setCaseFilter(filter.value)">
                            <span v-text="filter.label"></span>
                        </button>
                    </div>

                    <!-- æ¡Œé¢ç«¯ç­›é€‰æŒ‰é’® -->
                    <div class="hidden md:flex justify-center space-x-4">
                        <button v-for="filter in caseFilters" :key="filter.value"
                            :class="['filter-btn campus-btn', { active: currentCaseFilter === filter.value }]"
                            @click="setCaseFilter(filter.value)">
                            <span v-text="filter.label"></span>
                        </button>
                    </div>
                </div>

                <!-- æ¡ˆä¾‹ç½‘æ ¼ -->
                <div v-if="featuredCases.length > 0"
                     class="cases-grid mobile-grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <div v-for="caseData in featuredCases" :key="caseData.id"
                         class="case-card group bg-white rounded-xl shadow-sm hover:shadow-xl overflow-hidden campus-card">

                        <div class="case-image-container relative overflow-hidden rounded-t-xl">
                            <div class="baji-preview-homepage">
                                <div class="baji-frame-homepage">
                                    <img :src="getImageUrl(caseData.preview_image_path)" :alt="caseData.title"
                                         class="case-image" @click="viewCase(caseData.id)">
                                </div>
                            </div>

                            <div class="case-badges absolute top-3 left-3">
                                <span v-if="caseData.is_featured" class="badge badge-featured">
                                    â­ å­¦éœ¸æ¨è
                                </span>
                                <span v-if="caseData.is_hot" class="badge badge-hot">
                                    ğŸ”¥ çƒ­é—¨çˆ†æ¬¾
                                </span>
                            </div>

                            <div class="case-overlay absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300">
                                <div class="case-actions flex gap-3">
                                    <button class="action-btn primary campus-btn ripple-effect"
                                           @click="makeSame(caseData.id)">
                                        <span class="mr-2">ğŸ¨</span>
                                        <span>åˆ¶ä½œåŒæ¬¾</span>
                                    </button>
                                    <button class="action-btn secondary campus-btn ripple-effect"
                                           @click="likeCase(caseData.id)">
                                        <span class="mr-2">â¤ï¸</span>
                                        <span v-text="caseData.like_count"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="case-info p-4">
                            <h3 class="case-title text-lg font-semibold text-gray-800 mb-2" v-text="caseData.title"></h3>
                            <p class="case-meta flex justify-between items-center text-sm text-gray-500">
                                <span class="campus-tag campus-tag-success" v-text="caseData.category"></span>
                                <span class="text-gray-400" v-text="makeCountText(caseData.make_count)"></span>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- åŠ è½½çŠ¶æ€ -->
                <div v-else-if="loadingCases" class="text-center py-12">
                    <div class="campus-loader mx-auto mb-4"></div>
                    <p class="text-gray-600">åŠ è½½ä¸­...</p>
                </div>

                <!-- ç©ºçŠ¶æ€ -->
                <div v-else class="text-center py-12">
                    <div class="empty-icon mb-4">
                        <span class="text-6xl">ğŸ¨</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">è¿˜æ²¡æœ‰ç²¾é€‰æ¡ˆä¾‹</h3>
                    <p class="text-gray-600 mb-6">å¿«æ¥åˆ›ä½œç¬¬ä¸€ä¸ªæ ¡å›­ä½œå“å§ï¼ ğŸš€</p>
                    <a href="/design" class="campus-btn campus-btn-success">
                        âœ¨ ç«‹å³åˆ›ä½œ
                    </a>
                </div>

                <!-- æŸ¥çœ‹æ›´å¤š -->
                <div class="text-center mt-12">
                    <a href="/gallery" class="campus-btn campus-btn-primary">
                        ğŸª æŸ¥çœ‹æ›´å¤šæ¡ˆä¾‹
                    </a>
                </div>
            </div>
        </section>
    </div>

    <!-- ğŸª äº¤äº’è„šæœ¬ -->
    <script src="/static/js/campus-interactions.js"></script>
    <script src="/static/js/campus-social.js"></script>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    // å¯¼èˆªç»„ä»¶æ•°æ®
                    userMenuOpen: false,

                    // é¡µé¢æ•°æ®
                    featuredCases: [],
                    loadingCases: false,
                    currentCaseFilter: 'featured',
                    caseFilters: [
                        { value: 'featured', label: 'ğŸŒŸ å­¦éœ¸æ¨è' },
                        { value: 'recommended', label: 'ğŸ¯ ä¸ºä½ æ¨è' },
                        { value: 'trending', label: 'ğŸ”¥ çƒ­é—¨è¶‹åŠ¿' },
                        { value: 'popular', label: 'ğŸ’« è¶…äººæ°”' },
                        { value: 'latest', label: 'ğŸ†• æœ€æ–°ä½œå“' }
                    ]
                }
            },

            computed: {
                makeCountText() {
                    return (count) => `${count} äººåˆ¶ä½œ`;
                }
            },

            methods: {
                // å¯¼èˆªç»„ä»¶æ–¹æ³•
                toggleUserMenu() {
                    this.userMenuOpen = !this.userMenuOpen;
                },

                showHelp() {
                    this.userMenuOpen = false;
                    // æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
                    alert('ğŸ“ æ ¡å›­åˆ›æ„å·¥åŠå¸®åŠ©ä¸­å¿ƒ\n\nğŸ“š ä½¿ç”¨æ•™ç¨‹ï¼š\n1. ç‚¹å‡»"å¼€å¯åˆ›æ„ä¹‹æ—…"å¼€å§‹è®¾è®¡\n2. ä¸Šä¼ ä½ çš„åˆ›æ„å›¾ç‰‡\n3. è°ƒæ•´æ•ˆæœå¹¶ç¡®è®¤åˆ¶ä½œ\n4. åç­‰ä¸“å±å§å”§é€åˆ°å®¿èˆï¼\n\nâ“ æœ‰é—®é¢˜ï¼Ÿè”ç³»å®¢æœå°å§å§~ ğŸ’•');
                },

                async loadFeaturedCases() {
                    this.loadingCases = true;
                    try {
                        let url = '/api/v1/cases/featured';
                        if (this.currentCaseFilter === 'popular') {
                            url = '/api/v1/cases/popular';
                        } else if (this.currentCaseFilter === 'latest') {
                            url = '/api/v1/cases/latest';
                        } else if (this.currentCaseFilter === 'recommended') {
                            url = '/api/v1/cases/recommended';
                        } else if (this.currentCaseFilter === 'trending') {
                            url = '/api/v1/cases/trending';
                        }

                        const headers = {};
                        if (window.DeviceManager && window.DeviceManager.getDeviceId()) {
                            headers['X-Device-ID'] = window.DeviceManager.getDeviceId();
                        }

                        const response = await fetch(`${url}?limit=8`, {
                            headers: headers
                        });
                        const data = await response.json();

                        if (data.success) {
                            this.featuredCases = data.cases.map(caseItem => ({
                                ...caseItem,
                                is_featured: caseItem.is_featured || Math.random() > 0.7,
                                is_hot: caseItem.make_count > 100 || Math.random() > 0.8
                            }));
                        }
                    } catch (error) {
                        console.error('åŠ è½½ç²¾é€‰æ¡ˆä¾‹å¤±è´¥:', error);
                    } finally {
                        this.loadingCases = false;
                    }
                },

                setCaseFilter(filter) {
                    this.currentCaseFilter = filter;
                    this.loadFeaturedCases();
                },

                viewCase(caseId) {
                    window.location.href = `/view/${caseId}`;
                },

                async likeCase(caseId) {
                    try {
                        const headers = {
                            'Content-Type': 'application/json'
                        };

                        if (window.DeviceManager && window.DeviceManager.getDeviceId()) {
                            headers['X-Device-ID'] = window.DeviceManager.getDeviceId();
                        }

                        const response = await fetch(`/api/v1/cases/${caseId}/like`, {
                            method: 'POST',
                            headers: headers
                        });
                        const data = await response.json();

                        if (data.success) {
                            const caseData = this.featuredCases.find(c => c.id === caseId);
                            if (caseData) {
                                caseData.like_count = data.like_count;
                                // æ˜¾ç¤ºç‚¹èµæˆåŠŸæç¤º
                                this.showToast('â¤ï¸ ç‚¹èµæˆåŠŸï¼');
                            }
                        } else {
                            this.showToast('âŒ ç‚¹èµå¤±è´¥ï¼Œè¯·é‡è¯•');
                        }
                    } catch (error) {
                        console.error('ç‚¹èµå¤±è´¥:', error);
                        this.showToast('âŒ ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•');
                    }
                },

                async makeSame(caseId) {
                    try {
                        const headers = {
                            'Content-Type': 'application/json'
                        };

                        if (window.DeviceManager && window.DeviceManager.getDeviceId()) {
                            headers['X-Device-ID'] = window.DeviceManager.getDeviceId();
                        }

                        const response = await fetch(`/api/v1/cases/${caseId}/make`, {
                            method: 'POST',
                            headers: headers
                        });
                        const data = await response.json();

                        if (data.success) {
                            const caseData = this.featuredCases.find(c => c.id === caseId);
                            if (caseData) {
                                caseData.make_count = data.make_count;
                            }
                            // è§¦å‘æˆåŠŸåº†ç¥
                            if (window.campusEffects) {
                                window.campusEffects.celebrate();
                            }
                            setTimeout(() => {
                                window.location.href = data.redirect_url;
                            }, 500);
                        }
                    } catch (error) {
                        console.error('åˆ¶ä½œåŒæ¬¾å¤±è´¥:', error);
                        this.showToast('âŒ åˆ¶ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');
                    }
                },

                getImageUrl(imagePath) {
                    if (!imagePath) return '/static/images/placeholder.png';

                    if (imagePath.startsWith('http')) {
                        return imagePath;
                    }

                    let normalizedPath = imagePath.replace(/\\/g, '/');

                    if (normalizedPath.includes('static/uploads/')) {
                        const filename = normalizedPath.split('/').pop();
                        return `/api/v1/image/${filename}`;
                    }

                    if (normalizedPath.includes('uploads/')) {
                        const filename = normalizedPath.split('/').pop();
                        return `/api/v1/image/${filename}`;
                    }

                    if (!normalizedPath.includes('/')) {
                        return `/api/v1/image/${normalizedPath}`;
                    }

                    const filename = normalizedPath.split('/').pop();
                    return `/api/v1/image/${filename}`;
                },

                showToast(message) {
                    // åˆ›å»ºæç¤ºæ¶ˆæ¯
                    const toast = document.createElement('div');
                    toast.className = 'fixed top-4 right-4 bg-white shadow-lg rounded-lg p-4 z-50 bounce-in';
                    toast.innerHTML = `
                        <div class="flex items-center">
                            <span class="text-lg mr-2">${message}</span>
                        </div>
                    `;
                    document.body.appendChild(toast);

                    setTimeout(() => {
                        toast.style.opacity = '0';
                        toast.style.transform = 'translateX(100%)';
                        setTimeout(() => toast.remove(), 300);
                    }, 3000);
                }
            },

            mounted() {
                this.loadFeaturedCases();

                // åˆå§‹åŒ–ç»Ÿè®¡æ•°å­—åŠ¨ç”»
                if (window.campusEffects) {
                    document.addEventListener('DOMContentLoaded', () => {
                        setTimeout(() => {
                            document.querySelectorAll('.count-up').forEach(el => {
                                const target = parseInt(el.dataset.target);
                                if (target && !isNaN(target)) {
                                    window.campusEffects.animateNumber(el, target);
                                }
                            });
                        }, 1000);
                    });
                }
            }
        }).mount('#app');
    </script>
</body>

</html>
